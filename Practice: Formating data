Ejercicio para imprimir en patalla solo las columnas designadas en el archivo .awk

[root@host45 ~]# sar -q
Linux 3.10.0-862.14.4.el7.x86_64 (localhost.localdomain) 	11/12/18 	_x86_64_	(16 CPU)

19:43:59          LINUX RESTART

19:50:01      runq-sz  plist-sz   ldavg-1   ldavg-5  ldavg-15   blocked
20:00:01            0       351      0,00      0,01      0,01         0
20:10:01            0       353      0,00      0,01      0,01         0
20:20:01            0       355      0,00      0,01      0,01         0
20:30:01            0       356      0,03      0,03      0,01         0
20:40:01            0       353      0,00      0,01      0,01         0
20:50:01            0       357      0,01      0,02      0,02         0
21:00:01            0       355      0,00      0,01      0,02         0
21:10:01            0       355      0,00      0,01      0,02         0
21:20:01            0       354      0,00      0,01      0,02         0
21:30:01            0       355      0,00      0,01      0,02         0
21:40:01            0       355      0,00      0,01      0,02         0
21:50:01            0       356      0,00      0,01      0,02         0
22:00:01            0       354      0,00      0,01      0,02         0
22:10:01            0       357      0,00      0,02      0,03         0
22:15:01            0       356      0,00      0,01      0,03         0
22:20:01            0       355      0,00      0,01      0,03         0
22:25:01            0       356      0,00      0,01      0,03         0
22:30:01            0       355      0,00      0,01      0,03         0
22:35:01            0       355      0,00      0,01      0,03         0
22:40:02            0       356      0,00      0,01      0,03         0
22:45:01            0       355      0,00      0,01      0,03         0
Average:            0       355      0,00      0,01      0,02         0
[root@host45 ~]# vi loadavg.awk
[root@host45 ~]#
[root@host45 ~]#
[root@host45 ~]#
[root@host45 ~]# sar -q | awk -f loadavg.awk
Linux 11/12/18 _x86_64_ (16

19:43:59

19:50:01 ldavg-1 ldavg-5 ldavg-15
20:00:01 0,00 0,01 0,01
20:10:01 0,00 0,01 0,01
20:20:01 0,00 0,01 0,01
20:30:01 0,03 0,03 0,01
20:40:01 0,00 0,01 0,01
20:50:01 0,01 0,02 0,02
21:00:01 0,00 0,01 0,02
21:10:01 0,00 0,01 0,02
21:20:01 0,00 0,01 0,02
21:30:01 0,00 0,01 0,02
21:40:01 0,00 0,01 0,02
21:50:01 0,00 0,01 0,02
22:00:01 0,00 0,01 0,02
22:10:01 0,00 0,02 0,03
22:15:01 0,00 0,01 0,03
22:20:01 0,00 0,01 0,03
22:25:01 0,00 0,01 0,03
22:30:01 0,00 0,01 0,03
22:35:01 0,00 0,01 0,03
22:40:02 0,00 0,01 0,03
22:45:01 0,00 0,01 0,03
22:50:01 0,00 0,01 0,03
Average: 0,00 0,01 0,02
[root@host45 ~]#  vi loadavg.awk
[root@host45 ~]#  cat loadavg.awk
{
	print $1, $4, $5, $6;
}
[root@host45 ~]#


--------------------------------------------------------------------------------
Solo muestra lo que contiene digitos/puntuacion/espacio y el formato establecido
--------------------------------------------------------------------------------


[root@host45 ~]#  vi loadavg.awk
[root@host45 ~]# sar -q | awk -f loadavg.awk > loadavg.data
[root@host45 ~]# cat loadavg.awk
/^[[:digit:][:punct:][:space:]]+$/{
	print $1, $4, $5, $6;
}
[root@host45 ~]# cat loadavg.data
20:00:01 0,00 0,01 0,01
20:10:01 0,00 0,01 0,01
20:20:01 0,00 0,01 0,01
20:30:01 0,03 0,03 0,01
20:40:01 0,00 0,01 0,01
20:50:01 0,01 0,02 0,02
21:00:01 0,00 0,01 0,02
21:10:01 0,00 0,01 0,02
21:20:01 0,00 0,01 0,02
21:30:01 0,00 0,01 0,02
21:40:01 0,00 0,01 0,02
21:50:01 0,00 0,01 0,02
22:00:01 0,00 0,01 0,02
22:10:01 0,00 0,02 0,03
22:15:01 0,00 0,01 0,03
22:20:01 0,00 0,01 0,03
22:25:01 0,00 0,01 0,03
22:30:01 0,00 0,01 0,03
22:35:01 0,00 0,01 0,03
22:40:02 0,00 0,01 0,03
22:45:01 0,00 0,01 0,03
22:50:01 0,00 0,01 0,03
22:55:01 0,10 0,05 0,05
[root@host45 ~]#
